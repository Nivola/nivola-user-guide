.. _howto-cli-services:

Services
=========

Compute service - cpaas
-------------------------

Image
^^^^^^

**List**:

.. code-block:: bash

    beehive business cpaas images list

Vpc
^^^^^^

**List**:

.. code-block:: bash

    beehive business cpaas vpcs list

Subnet
^^^^^^^

**List**:

.. code-block:: bash

    beehive business cpaas subnets list

Security group
^^^^^^^^^^^^^^^

**List, Get, Templates**:

.. code-block:: bash

    beehive business cpaas securitygroups list
    beehive business cpaas securitygroups get ee399489-d223-4878-bcc3-0fec018d9f1a
    beehive business cpaas securitygroups templates

**Create**:

.. code-block:: bash

    beehive business cpaas securitygroups create SecurityGroupBE2 98f513c7-3ca1-4faf-9228-ce0a10174890
    beehive business cpaas securitygroups create SecurityGroupWEB2 98f513c7-3ca1-4faf-9228-ce0a10174890 \
      template=e0fe7e7f-6fda-4931-bc9f-61d36503ce67

**Create ingress, egress rule**:

.. code-block:: bash

    beehive business cpaas securitygroups add-rule egress ee399489-d223-4878-bcc3-0fec018d9f1a \
      SG:5400a174-01ca-485d-9117-33b3c35dca8a proto=tcp port=80
    beehive business cpaas securitygroups add-rule ingress ee399489-d223-4878-bcc3-0fec018d9f1a \
      SG:5400a174-01ca-485d-9117-33b3c35dca8a proto=tcp port=80
    beehive business cpaas securitygroups add-rule ingress ee399489-d223-4878-bcc3-0fec018d9f1a \
      CIDR:10.102.90.12/32 proto=tcp port=80
    beehive business cpaas securitygroups add-rule ingress f08e5fa1-3228-479f-b4f9-7a54ad71e73f \
      CIDR:0.0.0.0/0 proto=tcp port=443

**Delete rule**:

.. code-block:: bash

    beehive business cpaas securitygroups del-rule egress ee399489-d223-4878-bcc3-0fec018d9f1a \
      SG:5400a174-01ca-485d-9117-33b3c35dca8a proto=tcp port=80

Virtual machine
^^^^^^^^^^^^^^^

**List, Get, Types**:

.. code-block:: bash

    beehive business cpaas vms types
    beehive business cpaas vms list accounts=Portali.prd_services

**Create**:

.. code-block:: bash

    beehive business cpaas vms add name=prova01 account=Datacenter.test type=m1.medium.ops.sync subnet=SubnetBE-torino02 \
     image=Centos7.2 security-group=SecurityGroupBE key-name=prova123 pwd=mypass

**Delete**:

.. code-block:: bash

    beehive business cpaas vms delete prova01

Database service - dbaas
-------------------------

**List, Get, Types**:

.. code-block:: bash

    beehive business dbaas instances types
    beehive business dbaas instances list accounts=Portali.prd_webfarm
    beehive business dbaas instances get prova_db1

**Create**:

.. code-block:: bash

    beehive business dbaas instances add prova_db1 tst_webfarm db.m1.sync SubnetWEB-torino02 mysql 5.7 SecurityGroupWEB

**Delete**:

.. code-block:: bash

    beehive business dbaas instances delete prova_db1

Appengine service - appeng
---------------------------

**List, Get, Types**:

.. code-block:: bash

    beehive business appeng instances types
    beehive business appeng instances list accounts=Portali.prd_webfarm
    beehive business appeng instances prova_appeng1

**Create**:

.. code-block:: bash

    beehive business appeng instances add prova_appeng1 tst_webfarm appengine.m1.sync SubnetWEB-torino02 \
      SecurityGroupWEB tst_webfarm_php_comm public=false keyname=opstkportali sharesize=30

**Delete**:

.. code-block:: bash

    beehive business appeng vms delete prova_appeng1

Storage service - staas
-------------------------
